<div class="user-form">
  <!-- Dynamic Title -->
  <h3>{{ mode === 'viewDetails' ? 'View User' : mode === 'edit' ? 'Edit User' : 'Create User' }}</h3>

  <form [formGroup]="userForm" class="form-container" *ngIf="mode != 'viewDetails'">
    <!-- First Name -->
    <div class="form-group">
      <label for="firstName">
        First Name: <span class="required">*</span>
      </label>
      <input
        id="firstName"
        formControlName="firstName"
        type="text"
        placeholder="Enter first name"
      />
      <div *ngIf="userForm.get('firstName')?.invalid && userForm.get('firstName')?.touched" class="error">
        First Name is required.
      </div>
    </div>

    <!-- Last Name -->
    <div class="form-group">
      <label for="lastName">
        Last Name: <span class="required">*</span>
      </label>
      <input
        id="lastName"
        formControlName="lastName"
        type="text"
        placeholder="Enter last name"
      />
      <div *ngIf="userForm.get('lastName')?.invalid && userForm.get('lastName')?.touched" class="error">
        Last Name is required.
      </div>
    </div>

    <!-- Email -->
    <div class="form-group">
      <label for="email">
        Email: <span class="required">*</span>
      </label>
      <input
        id="email"
        formControlName="email"
        type="email"
        placeholder="Enter email"
      />
      <div *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched" class="error">
        A valid email is required.
      </div>
    </div>

    <!-- Date of Birth -->
    <div class="form-group">
      <label for="dob">
        Date of Birth: <span class="required">*</span>
      </label>
      <input id="dob" formControlName="birthDate" type="date" />
      <div *ngIf="userForm.get('birthDate')?.invalid && userForm.get('birthDate')?.touched" class="error">
        Date of Birth is required.
      </div>
    </div>

    <!-- Gender -->
    <div class="form-group">
      <label for="gender">
        Gender: <span class="required">*</span>
      </label>
      <select id="gender" formControlName="gender">
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>
      <div *ngIf="userForm.get('gender')?.invalid && userForm.get('gender')?.touched" class="error">
        Gender is required.
      </div>
    </div>

    <!-- Age -->
    <div class="form-group">
      <label for="age">
        Age: <span class="required">*</span>
      </label>
      <input
        id="age"
        formControlName="age"
        type="number"
        placeholder="Enter age"
      />
      <div *ngIf="userForm.get('age')?.invalid && userForm.get('age')?.touched" class="error">
        Age is required and must be greater than 0.
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons">
      <button mat-raised-button color="primary" type="button" (click)="onSave()">Save</button>
      <button mat-raised-button color="warn" type="button" (click)="onClose()">Cancel</button>
    </div>
  </form>




  <!-- Display user details for 'viewDetails' mode -->
  <div *ngIf="mode === 'viewDetails'" class="view-container">
    <p><strong>First Name:</strong> {{ user?.firstName }}</p>
    <p><strong>Last Name:</strong> {{ user?.lastName }}</p>
    <p><strong>Email:</strong> {{ user?.email }}</p>
    <p><strong>Gender:</strong> {{ user?.gender }}</p>
    <p><strong>Age:</strong> {{ user?.age }}</p>
    <p><strong>Date of Birth:</strong> {{ user?.birthDate | date: 'mediumDate' }}</p>
  
    <div class="">
      <button mat-raised-button color="warn" type="button" (click)="onClose()">Cancel</button>

    </div>
  </div>
</div>